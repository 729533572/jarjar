buildscript {
	def properties = new Properties();
	file('../../gradle.properties').withReader { properties.load(it); }

	repositories {
		mavenLocal()
		mavenCentral()
	}

	dependencies {
		classpath "org.anarres.jarjar:jarjar-gradle:${properties.version}"
	}
}

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'jarjar'

mainClassName = "org.anarres.jarjar.test.Main"

// println project.ext.dump()

repositories {
	mavenCentral()
}

configurations {
	jarjarInput
}

dependencies {
	jarjarInput 'com.google.guava:guava:17.0'

	compile jarjar.repackage {
		from configurations.jarjarInput
		classDelete "com.google.common.base.**"
	}
}
